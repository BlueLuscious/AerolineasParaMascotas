{% load static %}


<div id="modal" class="z-50 fixed inset-0 hidden bg-secondary-grey_dark/50 backdrop-blur-sm">
    <div id="bottom_sheet" class="absolute bottom-0 left-1/2 transform -translate-x-1/2 flex flex-col 
        items-center gap-y-4 w-full h-[90vh] max-w-2xl p-4 bg-secondary-grey_extralight rounded-t-xl 
        transition-transform duration-200 ease-out translate-y-full" 
        style="will-change: transform; touch-action: none;"
    >
        <div id="slider_bar" class="sticky w-16 h-1.5 bg-secondary-grey rounded-full cursor-grab active:cursor-grabbing"></div>

        <div id="content_modal" class="relative flex flex-col items-center gap-y-6 w-full max-w-2xl 
            px-4 py-8 text-secondary-grey_dark border-t border-secondary-grey overflow-y-auto"
        >
            <div class="flex items-center justify-center gap-x-4">
				<img src="{% static destination.flag_image %}" class="max-w-12 rounded-full" />
				<h1 class="text-xl md:text-3xl font-secondary_font">{{ destination.name }}</h1>
			</div>

            {% if destination.airports %}
            <div class="space-y-2 text-center">
                {% for airport in destination.airports %}
                <p class="text-secondary-grey_semidark font-primary_font">{{ airport }}</p>
                {% endfor %}
            </div>
            {% endif %}
            
            {% if destination.metadata %}
            <div class="flex flex-col gap-y-2 text-secondary-grey_semidark font-primary_font">
                {% if destination.metadata.title %}
                <h2 class="text-xl font-bold">{{ destination.metadata.title }}:</h2>
                {% endif %}

                {% if destination.metadata.description %}
                <div class="flex flex-col gap-y-4">
                    {% for item in destination.metadata.description %}
                    {% for key, value in item.items %}
                    <div class="flex flex-col gap-y-1">
                        {% if key != "no_key" %} 
                        <h3 class="text-lg font-semibold">{{ key }}:</h3>
                        {% endif %}
                        <p>{{ value }}</p>
                    </div>
                    {% endfor %}
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {% endif %}
        </div>

    </div>
</div>
